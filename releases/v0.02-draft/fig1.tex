\begin{figure}[ht]
\centering
\begin{tikzpicture}[auto, node distance=2.5cm and 3cm,
    block/.style={draw, rectangle, minimum height=1.2cm, minimum width=2.5cm, fill=gray!10},
    gate/.style={draw, diamond, minimum size=1.5cm, fill=yellow!20},
    sum/.style={draw, circle, inner sep=2pt, fill=white},
    arrow/.style={-latex, thick},
    feedback/.style={dashed, -latex, thick, bend right=30}]

\node [input] (source) {Source};
\node [block, right=of source] (encoder) {Encoder};
\node [gate, right=of encoder, label=above:Compression Gate ($\mathcal{C}_\sigma$)] (comp) {};
\node [block, right=of comp] (channel) {Channel (Noise/Transform)};
\node [block, right=of channel] (decoder) {Decoder};
\node [output, right=of decoder] (dest) {Destination};

\node [sum, below=of channel] (sum) {$+$};

\draw [arrow] (source) -- (encoder);
\draw [arrow] (encoder) -- (comp);
\draw [arrow] (comp) -- (channel);
\draw [arrow] (channel) -- (decoder);
\draw [arrow] (decoder) -- (dest);

% Feedback / recursion loop
\draw [feedback] (dest) to[out=270,in=270] node[below, midway] {Recursive Application} ++(-8cm,0) coordinate (loopback);
\draw [arrow] (loopback) -- ++(0,1cm) -| (encoder);

% Enforcement check in loop
\node [gate, below=of loopback, label=below:Enforcement (MOS²ES)] (enf) {};
\draw [arrow] (loopback) -- (enf);
\draw [arrow] (enf) -- ++(2cm,0) |- (channel);

% Noise input
\node [input, above=of sum] (noise) {Noise/Transform};
\draw [arrow] (noise) -- (sum);
\draw [arrow] (sum) -- (channel);

\end{tikzpicture}
\caption{Extended Shannon communication model with compression gate and recursive feedback loop. Enforcement (MOS²ES) gates the loop to preserve commitment invariance.}
\label{fig:extended-comm}
\end{figure}